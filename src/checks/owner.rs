use serenity::{
    client::Context,
    framework::standard::{macros::check, Args, CommandOptions, Reason},
    model::channel::Message,
};

// A function which acts as a "check", to determine whether to call a command.
//
// In this case, this command checks to ensure you are the owner of the message
// in order for the command to be executed. If the check fails, the command is
// not called.
#[check]
#[name = "Owner"]
async fn owner_check(
    _: &Context,
    msg: &Message,
    _: &mut Args,
    _: &CommandOptions,
) -> Result<(), Reason> {
    /*
    Replace 7 with your ID to make this check pass.

    1. If you want to pass a reason alongside failure you can do:
    `Reason::User("Lacked admin permission.".to_string())`,

    2. If you want to mark it as something you want to log only:
    `Reason::Log("User lacked admin permission.".to_string())`,

    3. If the check's failure origin is unknown you can mark it as such:
    `Reason::Unknown`

    4. If you want log for your system and for the user, use:
    `Reason::UserAndLog { user, log }`
    */
    // Only Dabo and Ring are superadmins by default.
    if msg.author.id != 162034086066520064 && msg.author.id != 79515100536385536 {
        return Err(Reason::User("Lacked owner permission".to_string()));
    }

    Ok(())
}
